Fir 语言设计概要
==================

Fir语言设计的目的是作为一款可以编译也可以速执行的嵌入式语言
能够方便地嵌入各种平台环境, 类似于lua, 但同时又提供非常好的jit支持

做法是这样的, 首先用C++编写一套Runtime运行时, 将脚本读入并进行语法分析, 得出语法树, 提供基本的C函数调用功能
之后就开始实现自举, 用脚本来编写编译器的核心部分

这个项目我想验证脚本语言是否也能实现自举，能否拥有和编译型语言同样高效的运行能力

项目思路有点像Lisp，先实现一个极简的子集，然后用这个子集迭代构建lisp语言的解释器

## 核心功能

能够原生调用C函数, 实现和C/C++混编, 无需对C代码进行任何修改。
语法层支持先进的宏系统，能够对各种自定义语法进行展开，还能用自己的语言对宏展开的算法进行自定义
混合了编译时和运行时，这两者没有明显的界限，但实际上却在内部进行了很好的规划，使得脚本的编译成为可能
编译时代码若被运行时代码调用，则可以通过打包解释器包实现

## 整体结构

首先入口有两个，一个是编译当前包，一个就是直接解释执行

先说解释执行的逻辑，解析执行代码会被做成一组完整的C函数接口，这时只需调用解析执行即可，同时为解析器设置好当前的环境变量，工作目录，编译器配置等信息。

代码解析执行分两步，一是先解析，生成bc文件，然后交由jit执行

一个文件的解析过程又可以细分为三步，扫描类型，扫描定义，扫描方法。

对于任何一个作用域下的扫描都可以分为这三步，这种方法也适用于函数内嵌套定义函数。

任何一个作用域下下的